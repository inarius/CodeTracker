function PageSlider(e){var e=e,t,n=[];this.back=function(){location.hash=n[n.length-2]};this.slidePage=function(e){var t=n.length,r=window.location.hash;if(t===0){n.push(r);this.slidePageFrom(e);return}if(r===n[t-2]){n.pop();this.slidePageFrom(e,"page-left")}else{n.push(r);this.slidePageFrom(e,"page-right")}};this.slidePageFrom=function(n,r){e.append(n);if(!t||!r){n.attr("class","page page-center");t=n;return}n.attr("class","page "+r);t.one("webkitTransitionEnd",function(e){$(e.target).remove()});e[0].offsetWidth;n.attr("class","page transition page-center");t.attr("class","page transition "+(r==="page-left"?"page-right":"page-left"));t=n}}